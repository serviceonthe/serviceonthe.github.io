var pdfembGrabToPan=function(){function c(a){this.element=a.element;this.document=a.element.ownerDocument;"function"===typeof a.ignoreTarget&&(this.ignoreTarget=a.ignoreTarget);this.onActiveChanged=a.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._onmousewheel=this._onmousewheel.bind(this);this._endPan=this._endPan.bind(this);
(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}c.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){if(!this.active&&(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.addEventListener("DOMMouseScroll",this._onmousewheel),this.element.addEventListener("mousewheel",this._onmousewheel),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!0)},deactivate:function(){if(this.active&&
(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!1)},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(b){return b[a]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(a){if(0===a.button&&!this.ignoreTarget(a.target)){this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=
this.element.scrollTop;this.clientXStart=a.clientX;this.clientYStart=a.clientY;this.document.addEventListener("mousemove",this._onmousemove,!0);this.document.addEventListener("mouseup",this._endPan,!0);this.element.addEventListener("scroll",this._endPan,!0);a.preventDefault();a.stopPropagation();this.document.documentElement.classList.add(this.CSS_CLASS_GRABBING);var b=document.activeElement;b&&!b.contains(a.target)&&b.blur()}},_onmousemove:function(a){this.element.removeEventListener("scroll",this._endPan,
!0);var b;b="buttons"in a&&f?!(a.buttons|1):e||d?0===a.which:void 0;b?this._endPan():(b=a.clientX-this.clientXStart,this.element.scrollTop=this.scrollTopStart-(a.clientY-this.clientYStart),this.element.scrollLeft=this.scrollLeftStart-b,this.overlay.parentNode||document.body.appendChild(this.overlay))},_onmousewheel:function(a){this.element.removeEventListener("scroll",this._endPan,!0);a="DOMMouseScroll"===a.type?-a.detail:a.wheelDelta/40;this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=
this.element.scrollTop;this.element.scrollTop=this.scrollTopStart-40*a;this.overlay.parentNode||document.body.appendChild(this.overlay)},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onmousemove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)}};var a;["webkitM","mozM","msM","oM","m"].some(function(b){b+="atches";b in document.documentElement&&
(a=b);b+="Selector";b in document.documentElement&&(a=b);return a});var f=!document.documentMode||9<document.documentMode,b=window.chrome,e=b&&(b.webstore||b.app),d=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);return c}();function pdfembGetPDF(c,a){a(c,!1)}function pdfembWantMobile(c,a,f,b){return!1}function pdfembMakeMobile(c,a,f){}function pdfembAddMoreToolbar(c,a,f){}function pdfembPremiumJumpToTop(c){};jQuery(document).ready(function(c){c.fn.pdfEmbedder=function(){this.each(function(a,f){var b=c(f);b.append(c("<div></div>",{"class":"pdfemb-loadingmsg"}).append(document.createTextNode(pdfemb_trans.objectL10n.loading)));"on"==b.data("disablerightclick")&&b.bind("contextmenu",function(a){a.preventDefault()});var e=function(a,d){b.empty().append(c("<div></div>",{"class":"pdfemb-inner-div"}).append(c("<canvas></canvas>",{"class":"pdfemb-the-canvas"})));b.data("pdfDoc",a);var f=b.data("toolbar");"bottom"!=
f&&c.fn.pdfEmbedder.addToolbar(b,!0,"on"==b.data("toolbar-fixed"),d);"top"!=f&&c.fn.pdfEmbedder.addToolbar(b,!1,"on"==b.data("toolbar-fixed"),d);b.on("pdfembGotopage",function(a,g){g>b.data("pdfDoc").numPages||0>=g||b.data("pagenum")==g||(b.data("pagenum",g),c.fn.pdfEmbedder.queueRenderPage(b,g),pdfembPremiumJumpToTop(b))});b.on("pdfembGotoHash",function(a,g){if(g.dest){dest=g.dest;var d;"string"===typeof dest?(destString=dest,d=b.data("pdfDoc").getDestination(dest)):d=Promise.resolve(dest);d.then(function(a){a instanceof
Array&&!(1>a.length)&&b.data("pdfDoc").getPageIndex(a[0]).then(function(a){a+=1;a>b.data("pdfDoc").numPages||0>=a||b.data("pagenum")==a||(b.data("pagenum",a),c.fn.pdfEmbedder.queueRenderPage(b,a),pdfembPremiumJumpToTop(b))})})}});b.on("pdfembGotoAction",function(a,d){var f=b.data("pagenum"),e=f;switch(d){case "GoBack":--e;break;case "GoForward":++e;break;case "NextPage":++e;break;case "PrevPage":--e;break;case "LastPage":e=b.data("pdfDoc").numPages;break;case "FirstPage":e=1}e==f||e>b.data("pdfDoc").numPages||
0>=e||(b.data("pagenum",e),c.fn.pdfEmbedder.queueRenderPage(b,e))});b.data("pageCount",a.numPages);(!b.data("pagenum")||1>b.data("pagenum")||b.data("pagenum")>a.numPages)&&b.data("pagenum",1);b.data("showIsSecure",d);b.data("pageNumPending",null);b.data("zoom",100);c.fn.pdfEmbedder.renderPage(b,b.data("pagenum"));b.find("span.pdfemb-page-count").text(a.numPages);f=new pdfembGrabToPan({element:b.find("div.pdfemb-inner-div")[0]});b.data("grabtopan",f);c(window).resize(function(){setTimeout(function(){c.fn.pdfEmbedder.queueRenderPage(b,
b.data("pagenum"))},100)})},d=function(a,d){null===a?b.empty().append(c("<div></div>",{"class":"pdfemb-errormsg"}).append(msgnode=c("<span></span>").append(document.createTextNode("Failed to load and decrypt PDF")))):PDFJS.getDocument(a).then(function(a){e(a,d)},function(a){var d=document.createTextNode(a.message);"UnexpectedResponseException"==a.name&&0==a.status&&(d=c("<span></span>").append(document.createTextNode(pdfemb_trans.objectL10n.domainerror+" ")).append(c('<a href="https://wp-pdf.com/troubleshooting/#unexpected" target="_blank">'+
pdfemb_trans.objectL10n.clickhereinfo+"</a>")));b.empty().append(c("<div></div>",{"class":"pdfemb-errormsg"}).append(d))})};if(b.data("pdfDoc"))e(b.data("pdfDoc"),b.data("showIsSecure"));else{var m=b.attr("data-pdf-url");pdfembGetPDF(m,d)}});return this};c.fn.pdfEmbedder.annotationsLayerFactory="undefined"!=typeof pdfembPremiumAnnotationsLayerFactory?new pdfembPremiumAnnotationsLayerFactory:{createAnnotationsLayerBuilder:function(a,c){return null}};c.fn.pdfEmbedder.checkForResize=function(a){var f=
c(window).height(),b=c(window).width(),e=a.data("checked-window-height"),d=a.data("checked-window-width");if(!e||!d)a.data("checked-window-height",f),a.data("checked-window-width",b);else if(e!=f||d!=b)c.fn.pdfEmbedder.queueRenderPage(a,a.data("pagenum")),a.data("checked-window-height",f),a.data("checked-window-width",b);"true"!=a.data("fullScreenClosed")&&setTimeout(function(){c.fn.pdfEmbedder.checkForResize(a)},1E3)};c.fn.pdfEmbedder.renderPage=function(a,f,b){a.data("pageRendering",!0);a.data("pdfDoc").getPage(f).then(function(e){var d=
a.find(".pdfemb-the-canvas"),m=null,r=null,u=null,v=null;b&&(u=d.width(),v=d.height(),r=d[0].getContext("2d"),m=r.getImageData(0,0,u,v));var n,g=e.getViewport(1),k=g.width,l=g.height;if(0>=k||0>=l)a.empty().append(document.createTextNode(pdfemb_trans.objectL10n.widthheightinvalid));else{var q=a.parent().width(),g=k,p=l;if("max"==a.data("width"))g=q;else if("auto"==a.data("width"))g=k;else if(g=parseInt(a.data("width"),10),isNaN(g)||0>=g)g=q;0>=g&&(g=k);g>q&&0<q&&(g=q);n=g/k;var p=l*n,w=a.find("div.pdfemb-toolbar-fixed"),
t=(q=pdfembWantMobile(c,a,g,h))?0:w.length,h=parseInt(a.data("height"),10);if(isNaN(h)||0>=h||h>p)h="auto"==a.data("height")?a.parent().height()-t*w.height():p;var g=Math.floor(g),p=Math.floor(p),x=100,k=g,l=p,y=0,z=0;q||(x=a.data("zoom"),k=g*x/100,l=p*x/100,k<g&&(y=(g-k)/2),l<h&&(z=(h-l)/2));var A=e.getViewport(n*x/100);g!=a.width()&&a.width(g);a.height()!=h&&a.height(h+t*w.height());n=a.find("div.pdfemb-inner-div");var x=n[0].scrollLeft,B=n[0].scrollTop;n.width(g);n.height(h);w=w.filter(".pdfemb-toolbar-top");
0<t&&n.css("top",w.height());d[0].width=k;d[0].height=l;d.css("width",k);d.css("height",l);d.css("left",y).css("top",z);(k>g||l>p||l>h)&&!q?(h=a.data("fromZoom"),t=a.data("toZoom"),0<h&&0<t&&(y=B+p/2,n.scrollLeft((x+g/2)*t/h-g/2),n.scrollTop(y*t/h-p/2)),a.data("grabtopan").activate()):("on"==a.data("fullScreen")?a.data("grabtopan").activate():a.data("grabtopan").deactivate(),a.find("div.pdfemb-inner-div").scrollLeft(0).scrollTop(0));a.data("fromZoom",0).data("toZoom",0);pdfembMakeMobile(c,q,a);b?
(a.data("pagenum",f),a.data("pageRendering",!1),d=c("<canvas>").attr("width",m.width).attr("height",m.height)[0],d.getContext("2d").putImageData(m,0,0),r.scale(k/u,l/v),r.drawImage(d,0,0)):(m={canvasContext:d[0].getContext("2d"),viewport:A},e.render(m).promise.then(function(){a.data("pagenum",f);a.data("pageRendering",!1);a.find("div.pdfemb-toolbar .pdfemb-page-num").each(function(a,b){var d=c(b);d.is("span")?d.text(f):d.val(f)});f<a.data("pageCount")?a.find(".pdfemb-next").removeAttr("disabled").removeClass("pdfemb-btndisabled"):
a.find(".pdfemb-next").attr("disabled","disabled").addClass("pdfemb-btndisabled");1<f?a.find(".pdfemb-prev").removeAttr("disabled").removeClass("pdfemb-btndisabled"):a.find(".pdfemb-prev").attr("disabled","disabled").addClass("pdfemb-btndisabled");var b=c.fn.pdfEmbedder.annotationsLayerFactory.createAnnotationsLayerBuilder(a.find("div.pdfemb-inner-div")[0],e);null!=b&&(a.find("div.pdfembAnnotationLayer").remove(),b.setupAnnotations(A,a.data("newwindow")));null!==a.data("pageNumPending")&&(c.fn.pdfEmbedder.renderPage(a,
a.data("pageNumPending")),a.data("pageNumPending",null))}))}})};c.fn.pdfEmbedder.queueRenderPage=function(a,f,b){a.data("pageRendering")?a.data("pageNumPending",f):c.fn.pdfEmbedder.renderPage(a,f,b)};c.fn.pdfEmbedder.goFullScreen=function(a){a=c('<div class="pdfemb-fs-window"></div>');c(document.body).append(a)};c.fn.pdfEmbedder.changeZoom=function(a,f){var b=a.data("zoom"),e=b+f;a.data("zoom",e);a.find("span.pdfemb-zoom").text(e+"%");c.fn.pdfEmbedder.queueRenderPage(a,a.data("pagenum"));a.data("fromZoom",
b).data("toZoom",e)};c.fn.pdfEmbedder.magnifyZoom=function(a,f){var b=a.data("zoom"),e=Math.floor(b*f);20>e&&(e=20);500<e&&(e=500);a.data("zoom",e);a.find("span.pdfemb-zoom").text(e+"%");c.fn.pdfEmbedder.queueRenderPage(a,a.data("pagenum"),!0);a.data("fromZoom",b).data("toZoom",e)};c.fn.pdfEmbedder.addToolbar=function(a,f,b,e){var d=c("<div></div>",{"class":"pdfemb-toolbar pdfemb-toolbar"+(b?"-fixed":"-hover")+" "+(f?" pdfemb-toolbar-top":"pdfemb-toolbar-bottom")}),m=c('<button class="pdfemb-prev" title="'+
pdfemb_trans.objectL10n.prev+'"></button>');d.append(m);var r=c('<button class="pdfemb-next" title="'+pdfemb_trans.objectL10n.next+'"></button>');d.append(r);d.append(c('<div class="pdfemb-page-area">'+pdfemb_trans.objectL10n.page+' <span class="pdfemb-page-num">0</span> / <span class="pdfemb-page-count"></span></div>'));var u=c('<button class="pdfemb-zoomout" title="'+pdfemb_trans.objectL10n.zoomout+'"></button>');d.append(u);var v=c('<button class="pdfemb-zoomin" title="'+pdfemb_trans.objectL10n.zoomin+
'"></button>');d.append(v);d.append(c("<div>"+pdfemb_trans.objectL10n.zoom+' <span class="pdfemb-zoom">100%</span></div>'));e&&d.append(c("<div>"+pdfemb_trans.objectL10n.secure+"</div>"));f?a.prepend(d):a.append(d);m.on("click",function(b){1>=a.data("pagenum")||(a.data("pagenum",a.data("pagenum")-1),c.fn.pdfEmbedder.queueRenderPage(a,a.data("pagenum")),pdfembPremiumJumpToTop(a))});r.on("click",function(b){a.data("pagenum")>=a.data("pdfDoc").numPages||(a.data("pagenum",a.data("pagenum")+1),c.fn.pdfEmbedder.queueRenderPage(a,
a.data("pagenum")),pdfembPremiumJumpToTop(a))});v.on("click",function(b){500<=a.data("zoom")||c.fn.pdfEmbedder.changeZoom(a,10)});u.on("click",function(b){20>=a.data("zoom")||c.fn.pdfEmbedder.changeZoom(a,-10)});pdfembAddMoreToolbar(c,d,a);b||(a.on("mouseenter",function(b){b=a.find("div.pdfemb-toolbar-hover");!0!==b.data("no-hover")&&b.show()}),a.on("mouseleave",function(b){a.find("div.pdfemb-toolbar-hover").hide()}));pdfemb_trans.poweredby&&d.append(c("<div></div>",{"class":"pdfemb-poweredby"}).append(c('<a href="https://wp-pdf.com/?utm_source=Poweredby&utm_medium=freemium&utm_campaign=Freemium" target="_blank">wp-pdf.com</a>')))};
PDFJS.workerSrc=pdfemb_trans.worker_src;PDFJS.cMapUrl=pdfemb_trans.cmap_url;PDFJS.cMapPacked=!0;c(".pdfemb-viewer").pdfEmbedder()});
